{
	"build_type": "static",

	"target_name": "xgk-test",

	"variables":
	{
		"gcc-x64":
		{
			"LIBS": "/home/denis/libs",
			"REPS": "/home/denis/reps",

			"MAKE_H": "mkdir -p $(BUILD)/h",
			"MAKE_SPV": "mkdir -p $(BUILD)/spv",

			"CUSTOM_CPPFLAGS": "-fPIC"
		}
	},

	"include_directories":
	[
		"$(SRC)",
		"$(LIBS)",
		"$(LIBS)/glad/include",
		"$(REPS)/ocornut/imgui",
		"$(LIBS)/glfw-3.3.4/include",
		"$(REPS)/denis-belov",
		"$(REPS)/denis-belov/xgk-test/build/gcc-x64/h",
		"$(REPS)/denis-belov/xgk-math/src",
		"$(REPS)/denis-belov/xgk-aux/src"
	],

	"system_libraries":
	[
		"dl",
		"pthread",
		"X11",
		"Xrandr",
		"Xxf86vm",
		"Xi",
		"Xinerama",
		"Xcursor"
	],

	"static_libraries":
	[
		"$(LIBS)/glfw-3.3.4/build/src/libglfw3",
		"$(REPS)/denis-belov/xgk-math/build/gcc-x64/output/a/xgk-math",
		"$(REPS)/denis-belov/xgk-aux/build/gcc-x64/output/a/xgk-aux"
	],

	"static_libraries2":
	[
		"$(REPS)/denis-belov/xgk-math",
		"$(REPS)/denis-belov/xgk-aux"
	],

	"source_files":
	{
		"internal":
		{
			"cpp":
			[
				"$(SRC)/xgk-test.cpp",

				"$(SRC)/gl.cpp",

				{
					"source": "$(SRC)/vk.cpp",

					"headers":
					[
						"$(REPS)/denis-belov/xgk-aux/src/api/vulkan.h",
						"$(BUILD)/h/vertex_shader_code_vulkan.h",
						"$(BUILD)/h/fragment_shader_code_vulkan.h"
					],

					"custom_dependencies":
					[
						[
							"$(BUILD)/h/vertex_shader_code_vulkan.h : $(SRC)/vk-shaders/vertex_shader_code_vulkan.vert\n",
							"\t$(MAKE_SPV) && $(MAKE_H) && ",
							"glslangValidator -o $(BUILD)/spv/vertex_shader_code_vulkan.spv $(SRC)/vk-shaders/vertex_shader_code_vulkan.vert -V -t && ",
							"node $(REPS)/denis-belov/c-build/src/spv2h $(BUILD)/spv/vertex_shader_code_vulkan.spv $(BUILD)/h/vertex_shader_code_vulkan.h vertex_shader_code_vulkan"
						],

						[
							"$(BUILD)/h/fragment_shader_code_vulkan.h : $(SRC)/vk-shaders/fragment_shader_code_vulkan.frag\n",
							"\t$(MAKE_SPV) && $(MAKE_H) && ",
							"glslangValidator -o $(BUILD)/spv/fragment_shader_code_vulkan.spv $(SRC)/vk-shaders/fragment_shader_code_vulkan.frag -V -t && ",
							"node $(REPS)/denis-belov/c-build/src/spv2h $(BUILD)/spv/fragment_shader_code_vulkan.spv $(BUILD)/h/fragment_shader_code_vulkan.h fragment_shader_code_vulkan"
						]
					]
				}
			]
		},

		"external":
		{
			"cpp":
			[
				{
					"source": "$(LIBS)/glad/src/glad.c",
					"flags": "-w $(CUSTOM_CPPFLAGS)"
				},

				"$(REPS)/ocornut/imgui/imgui.cpp",
				"$(REPS)/ocornut/imgui/imgui_widgets.cpp",
				"$(REPS)/ocornut/imgui/imgui_draw.cpp",
				"$(REPS)/ocornut/imgui/examples/imgui_impl_glfw.cpp",
				"$(REPS)/ocornut/imgui/examples/imgui_impl_opengl3.cpp",
				"$(REPS)/ocornut/imgui/examples/imgui_impl_vulkan.cpp"
			]
		}
	}
}
